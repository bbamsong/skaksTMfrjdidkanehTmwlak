<!DOCTYPE html>
<html lang="ko"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ìƒì¼ ATM ë§Œë“¤ê¸°</title>
    <meta property="og:title" content="íŠ¹ë³„í•œ ìƒì¼ ATM">
    <meta property="og:description" content="ìƒì¼ ì¶•í•˜ë¥¼ ìœ„í•œ íŠ¹ë³„í•œ ATM ğŸ‰">
    <meta property="og:type" content="website">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            background: #f8f9fa;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 40px 20px;
            animation: fadeIn 0.4s ease-out;
        }
        
        .screen.active {
            display: flex;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        button {
            cursor: pointer;
            touch-action: manipulation;
            -webkit-appearance: none;
            appearance: none;
            border: none;
            outline: none;
            font-family: inherit;
        }
        
        .btn-primary {
            background: linear-gradient(180deg, #4A9FE8 0%, #2E86D4 100%);
            color: white;
            font-weight: 600;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(46, 134, 212, 0.35);
            transition: all 0.2s ease;
        }
        
        .btn-primary:active {
            transform: scale(0.97);
            box-shadow: 0 2px 8px rgba(46, 134, 212, 0.35);
        }
        
        .btn-secondary {
            background: linear-gradient(180deg, #9CA3AF 0%, #6B7280 100%);
            color: white;
            font-weight: 600;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(107, 114, 128, 0.3);
            transition: all 0.2s ease;
        }
        
        .btn-secondary:active {
            transform: scale(0.97);
        }

        /* ===== Screen 0: ì„¤ì • í™”ë©´ ===== */
        #screen0 {
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
        }
        
        .setup-container {
            background: white;
            padding: 35px 30px;
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            max-width: 550px;
            width: 100%;
        }
        
        .setup-title {
            font-size: 26px;
            color: #1f2937;
            font-weight: 700;
            margin-bottom: 6px;
            text-align: center;
        }
        
        .setup-subtitle {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 18px;
        }
        
        .form-group-inline {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 18px;
        }
        
        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 6px;
        }
        
        .form-input {
            width: 100%;
            padding: 10px 14px;
            font-size: 15px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            transition: border-color 0.2s;
            font-family: inherit;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #4A9FE8;
        }
        
        .icon-selector {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 8px;
            margin-top: 6px;
        }
        
        .icon-btn {
            font-size: 28px;
            padding: 8px;
            background: #f3f4f6;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .icon-btn:hover {
            background: #e5e7eb;
        }
        
        .icon-btn.selected {
            background: #dbeafe;
            border-color: #4A9FE8;
            transform: scale(1.05);
        }
        
        .date-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .submit-btn {
            width: 100%;
            padding: 14px;
            font-size: 17px;
            margin-top: 8px;
        }

        /* ===== Screen 1: Welcome ===== */
        #screen1 {
            background: linear-gradient(180deg, #ffffff 0%, #f1f5f9 100%);
        }
        
        .welcome-content {
            width: 100%;
            max-width: 700px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .bank-logo-container {
            width: 200px;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 24px;
            margin-bottom: 30px;
            filter: drop-shadow(0 8px 24px rgba(0, 0, 0, 0.12));
        }
        
        .bank-logo {
            font-size: 100px;
        }
        
        .welcome-text {
            color: #1f2937;
            font-size: 24px;
            margin-bottom: 8px;
            font-weight: 600;
            text-align: center;
        }
        
        .bank-name {
            color: #4b5563;
            font-size: 20px;
            font-weight: 500;
            margin-bottom: 40px;
            text-align: center;
        }
        
        .main-title {
            font-size: 30px;
            color: #1f2937;
            margin-bottom: 40px;
            font-weight: 700;
            text-align: center;
            line-height: 1.4;
        }
        
        .main-title .highlight {
            color: #2E86D4;
        }
        
        .login-btn {
            padding: 18px 80px;
            font-size: 20px;
        }
        
        /* ===== Screen 2: Select Name ===== */
        #screen2 {
            background: linear-gradient(180deg, #ffffff 0%, #f1f5f9 100%);
        }
        
        .screen-title {
            font-size: 32px;
            color: #1f2937;
            margin-bottom: 40px;
            font-weight: 700;
            text-align: center;
        }
        
        .name-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            max-width: 450px;
            width: 100%;
        }
        
        .name-btn {
            padding: 40px 45px;
            font-size: 22px;
        }
        
        /* ===== Screen 3: Verify Identity ===== */
        #screen3 {
            background: linear-gradient(180deg, #ffffff 0%, #f1f5f9 100%);
        }
        
        .verify-container {
            background: white;
            padding: 45px 50px;
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            text-align: center;
            max-width: 550px;
        }
        
        .verify-title {
            font-size: 30px;
            color: #1f2937;
            margin-bottom: 8px;
            font-weight: 700;
        }
        
        .verify-subtitle {
            font-size: 18px;
            color: #6b7280;
            margin-bottom: 30px;
            font-weight: 500;
        }
        
        .verify-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
        }
        
        .user-photo {
            width: 180px;
            height: 180px;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 90px;
        }
        
        .verify-buttons {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }
        
        .verify-btn {
            padding: 20px 60px;
            font-size: 22px;
        }

        /* ===== Screen 4: PIN Entry ===== */
        #screen4 {
            background: linear-gradient(180deg, #ffffff 0%, #f1f5f9 100%);
        }
        
        .pin-container {
            background: white;
            padding: 50px 60px;
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            display: flex;
            align-items: center;
            gap: 70px;
            max-width: 900px;
            width: 100%;
            margin: 0 auto;
        }
        
        .pin-left {
            text-align: left;
            flex: 1;
            min-width: 0;
        }
        
        .pin-title {
            font-size: 32px;
            color: #1f2937;
            margin-bottom: 8px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        .pin-subtitle {
            font-size: 20px;
            color: #6b7280;
            margin-bottom: 35px;
            font-weight: 500;
        }
        
        .pin-dots {
            display: flex;
            gap: 18px;
            margin-bottom: 20px;
        }
        
        .pin-dot {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid #d1d5db;
            transition: all 0.2s ease;
        }
        
        .pin-dot.filled {
            background: #2E86D4;
            border-color: #2E86D4;
            box-shadow: 0 0 12px rgba(46, 134, 212, 0.5);
        }
        
        .error-msg {
            color: #dc2626;
            font-size: 18px;
            font-weight: 600;
            opacity: 0;
            transition: opacity 0.2s ease;
            height: 28px;
        }
        
        .error-msg.show {
            opacity: 1;
        }
        
        .keypad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 14px;
            width: 100%;
            max-width: 280px;
            flex-shrink: 0;
        }
        
        .key-btn {
            width: 100%;
            aspect-ratio: 1;
            min-height: 70px;
            max-height: 80px;
            font-size: 32px;
            font-weight: 600;
            color: #1f2937;
            background: #f3f4f6;
            border-radius: 14px;
            transition: all 0.15s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .key-btn:active {
            background: #e5e7eb;
            transform: scale(0.95);
        }
        
        .key-action {
            font-size: 22px;
            width: 100%;
            height: 60px;
            aspect-ratio: auto;
        }
        
        #confirmBtn {
            background: linear-gradient(180deg, #4A9FE8 0%, #2E86D4 100%);
            color: white;
            font-weight: 700;
            box-shadow: 0 4px 16px rgba(46, 134, 212, 0.5);
        }
        
        /* ===== Screen 5: Birthday Celebration ===== */
        #screen5 {
            background: #ffffff;
            position: relative;
            overflow: hidden;
    align-items: center;
    justify-content: center;
    text-align: center;
        }
        
        .celebration-top {
            text-align: center;
            z-index: 10;
            position: relative;
        }
        
        .celebration-title {
            font-size: 50px;
            color: #ff84c6;
            margin-bottom: 12px;
            font-weight: 800;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            line-height: 1.2;
        }
        
        .celebration-title .highlight {
            color: #ffd700;
            display: block;
            margin-top: 8px;
        }
        
        .celebration-subtitle {
            font-size: 26px;
            color: #666666;
            font-weight: 600;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
        }
	#screen5 .content-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
}

/* ë¶€ëª¨ ì»¨í…Œì´ë„ˆ: ìì‹ë“¤ì„ ë¬´ì¡°ê±´ ìˆ˜í‰ ì¤‘ì•™ì— ë†“ìŠµë‹ˆë‹¤ */
.atm-container {
    position: relative;
    width: 100%;
    height: 300px;
    perspective: 1200px;
    display: flex;
    justify-content: center; /* ìˆ˜í‰ ì¤‘ì•™ */
    align-items: center;     /* ìˆ˜ì§ ì¤‘ì•™ */
    overflow: visible;       /* ë°˜ë§Œ ë³´ì´ëŠ” í˜„ìƒ ë°©ì§€ë¥¼ ìœ„í•´ ì ì‹œ ìˆ˜ì • */
    margin: 20px 0;
}

/* íˆ¬ì…êµ¬ ëª¨ì–‘ ìì—°ìŠ¤ëŸ½ê²Œ í†µí•© */
.black-bar {
    width: 220px;
    background: #1a1a1a;
    position: absolute;
    left: 50%;
    transform: translateX(-50%) translateZ(-100px) rotateX(20deg);
}

/* ìƒë‹¨ë°”: 'left: 50%'ì™€ 'translateX(-50%)' ì¡°í•©ì´ ê°€ì¥ ì •í™•í•©ë‹ˆë‹¤ */
.top-bar {
    width: 220px;
    height: 40px;
    position: absolute;
    top: 90px;
    left: 50%;
    transform: translateX(-50%) translateZ(0); /* ì •í™•í•œ ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ */
    
    z-index: 100;
    border-radius: 12px 12px 0 0;
    border: 4px solid #333;
    border-bottom: none;
    background: #1a1a1a;
    display: flex;
    align-items: flex-end;
    justify-content: center;
}

/* í•˜ë‹¨ë°”: ìƒë‹¨ë°”ì™€ ë™ì¼í•œ ì¤‘ì•™ ì •ë ¬ ì ìš© */
.bottom-bar {
    width: 220px;
    height: 40px;
    position: absolute;
    top: 130px; 
    left: 50%;
    transform: translateX(-50%) translateZ(0); /* ì •í™•í•œ ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ */
    
    z-index: 5;
    border-radius: 0 0 12px 12px;
    border: 4px solid #333;
    border-top: none;
    background: #1a1a1a;
}

.slot-line {
    width: 160px;
    height: 3px;
    background: #000;
    margin-bottom: -2px;
}

/* ì¹´ë“œ ê°€ë¦¼ë§‰: íˆ¬ì…êµ¬ ë°”ë¡œ ë’¤ì— ë°€ì°© */
/* â˜… ìƒë‹¨ ì „ìš© ê°€ë¦¼ë§‰: íˆ¬ì…êµ¬ ìœ—ë¶€ë¶„(z-index 100ë³´ë‹¤ ë°”ë¡œ ë’¤)ì„ í°ìƒ‰ìœ¼ë¡œ ë®ì–´ë²„ë¦¼ */
.top-hider {
    position: absolute;
    width: 100%;
    height: 120px; /* íˆ¬ì…êµ¬ ìœ—ë¶€ë¶„ì„ ì¶©ë¶„íˆ ë®ëŠ” ë†’ì´ */
    background: #ffffff;
    top: 0;
    left: 0;
    /* íˆ¬ì…êµ¬(translateZ -100px)ë³´ë‹¤ ì‚´ì§ ë’¤ì— ë°°ì¹˜ */
    transform: translateZ(-102px); 
    z-index: 90; /* íˆ¬ì…êµ¬ ìƒë‹¨ë°”(110)ë³´ë‹¤ëŠ” ë’¤, ì¹´ë“œ(50)ë³´ë‹¤ëŠ” ì• */
}
      

/* ì¹´ë“œ: íˆ¬ì…êµ¬ì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì¤‘ì•™ ì •ë ¬ */
.card {
    width: 130px;
    height: 190px;
    background: linear-gradient(135deg, #1e90ff, #0052cc);
    border-radius: 10px;
    position: absolute;
    left: 50%;
    /* ê¸°ì¡´ ì• ë‹ˆë©”ì´ì…˜ sandwichInsertì— translateX(-50%)ë¥¼ í¬í•¨ì‹œì¼œì•¼ í•©ë‹ˆë‹¤ */
    z-index: 50;
    animation: sandwichInsert 3s infinite linear;
}

.card::before {
    content: "";
    position: absolute;
    top: 25px; left: 20px;
    width: 35px; height: 25px;
    background: #ffd700;
    border-radius: 4px;
}

/* â˜… ì¤‘ìš”: ì• ë‹ˆë©”ì´ì…˜ ì•ˆì—ë„ ì¤‘ì•™ ì •ë ¬(translateX(-50%))ì´ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤ */
@keyframes sandwichInsert {
    0% { transform: translateX(-50%) translateZ(400px) translateY(250px) rotateX(15deg); opacity: 0; }
    10% { opacity: 1; }
    75% { opacity: 1; transform: translateX(-50%) translateZ(-95px) translateY(-5px) rotateX(45deg); }
    85% { opacity: 1; }
    100% { transform: translateX(-50%) translateZ(-350px) translateY(-80px) rotateX(70deg); opacity: 0; }
}
      .card {
    /* ... ê¸°ì¡´ ì†ì„± ... */
    z-index: 50; /* íˆ¬ì…êµ¬ì™€ ìƒë‹¨ ê°€ë¦¼ë§‰ë³´ë‹¤ ë’¤ì— ìœ„ì¹˜ */
    animation: sandwichInsert 3.5s infinite ease-in-out;
}

        /* ===== Screen 6: ì´ë¦„1 - ì”ì•¡ ë¶€ì¡± ===== */
        #screen6 {
            background: linear-gradient(180deg, #1f2937 0%, #111827 100%);
        }
        
        .error-container {
            background: #374151;
            padding: 50px 70px;
            border-radius: 24px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 2px solid #4b5563;
            max-width: 550px;
        }
        
        .error-icon {
            font-size: 70px;
            margin-bottom: 18px;
        }
        
        .error-title {
            font-size: 32px;
            color: #f87171;
            font-weight: 700;
            margin-bottom: 25px;
        }
        
        .error-message {
            font-size: 20px;
            color: #e5e7eb;
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .error-detail {
            background: #1f2937;
            padding: 22px 35px;
            border-radius: 12px;
            margin: 25px 0;
        }
        
        .error-detail-row {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            font-size: 18px;
        }
        
        .error-detail-label {
            color: #9ca3af;
        }
        
        .error-detail-value {
            color: #fbbf24;
            font-weight: 600;
        }
        
        .retry-btn {
            margin-top: 25px;
            padding: 16px 55px;
            font-size: 18px;
        }

        /* ===== Screen 7: ì´ë¦„2 - í˜‘ë°• ===== */
        #screen7 {
            background: linear-gradient(180deg, #fef3c7 0%, #fde68a 100%);
        }
        
        .warning-container {
            background: white;
            padding: 50px 70px;
            border-radius: 24px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            max-width: 550px;
        }
        
        .warning-icon {
            font-size: 70px;
            margin-bottom: 18px;
            animation: shake 0.5s ease infinite;
        }
        
        @keyframes shake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
        }
        
        .warning-title {
            font-size: 32px;
            color: #1f2937;
            font-weight: 700;
            margin-bottom: 22px;
        }
        
        .warning-message {
            font-size: 20px;
            color: #4b5563;
            margin-bottom: 18px;
            line-height: 1.7;
        }
        
        .warning-alert {
            background: linear-gradient(180deg, #fecaca 0%, #fca5a5 100%);
            padding: 18px 28px;
            border-radius: 12px;
            margin: 22px 0;
            font-size: 18px;
            color: #991b1b;
            font-weight: 600;
            animation: blink 1s ease infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .warning-small {
            font-size: 16px;
            color: #6b7280;
            margin-top: 18px;
        }
        
        .honest-btn {
            margin-top: 25px;
            padding: 16px 45px;
            font-size: 18px;
            background: linear-gradient(180deg, #34d399 0%, #10b981 100%);
            box-shadow: 0 4px 16px rgba(16, 185, 129, 0.35);
        }

        /* ===== Screen 8, 9: ë•¡ í™”ë©´ë“¤ ===== */
        #screen8, #screen9 {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        .wrong-container {
            background: white;
            padding: 50px 70px;
            border-radius: 24px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            max-width: 550px;
        }
        
        .wrong-icon {
            font-size: 70px;
            margin-bottom: 18px;
            animation: bounce 0.8s ease infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .wrong-title {
            font-size: 32px;
            color: #1f2937;
            font-weight: 700;
            margin-bottom: 22px;
        }
        
        .wrong-message {
            font-size: 20px;
            color: #4b5563;
            margin-bottom: 18px;
            line-height: 1.7;
        }
        
        .wrong-hint {
            background: #fef3c7;
            padding: 18px 28px;
            border-radius: 12px;
            margin: 22px 0;
            font-size: 17px;
            color: #92400e;
            font-weight: 600;
        }
        
        .wrong-btn {
            margin-top: 25px;
            padding: 16px 45px;
            font-size: 18px;
        }
        
        /* ===== ì¶•í•˜ íš¨ê³¼ ì• ë‹ˆë©”ì´ì…˜ ===== */
        .confetti {
            position: absolute;
            width: 12px;
            height: 12px;
            opacity: 0.8;
        }
        
        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); }
            100% { transform: translateY(100vh) rotate(360deg); }
        }
        
        .star {
            position: absolute;
            font-size: 40px;
            animation: star-float 4s ease-in-out infinite;
            pointer-events: none;
        }
        
        @keyframes star-float {
            0%, 100% { transform: translateY(0) scale(1); opacity: 0.8; }
            50% { transform: translateY(-30px) scale(1.2); opacity: 1; }
        }
        
        .firework {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            pointer-events: none;
        }
        
        @keyframes explode {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { 
                transform: translate(calc(var(--x) * 80px), calc(var(--y) * 80px)) scale(0); 
                opacity: 0; 
            }
        }
        
        /* ===== íƒœë¸”ë¦¿ ìµœì í™” ===== */
        @media (max-width: 1024px) and (min-width: 769px) {
            .pin-container {
                padding: 40px 50px;
                gap: 50px;
            }
            
            .keypad {
                max-width: 250px;
            }
            
            .key-btn {
                min-height: 60px;
                max-height: 70px;
                font-size: 28px;
            }
            
            .key-action {
                height: 55px;
            }
        }
        
        /* ===== ëª¨ë°”ì¼ ìµœì í™” ===== */
        @media (max-width: 768px) {
            .screen {
                padding: 20px;
            }
            
            .welcome-header {
                flex-direction: column-reverse;
                align-items: center;
                gap: 30px;
            }
            
            .bank-logo-container {
                width: 200px;
                height: 200px;
            }
            
            .welcome-text-container {
                text-align: center;
            }
            
            .main-title {
                font-size: 28px;
            }
            
            .screen-title {
                font-size: 28px;
            }
            
            .name-grid {
                grid-template-columns: 1fr;
                max-width: 320px;
            }
            
            .name-btn {
                padding: 35px 45px;
                font-size: 20px;
            }
            
            .verify-container, .pin-container {
                padding: 30px 25px;
            }
            
            .verify-content {
                flex-direction: column;
                gap: 30px;
            }
            
            .user-photo {
                width: 150px;
                height: 150px;
                font-size: 70px;
            }
            
            .error-container, .warning-container {
                padding: 30px 25px;
            }
            
            .error-title, .warning-title {
                font-size: 28px;
            }
            
            .error-message, .warning-message {
                font-size: 18px;
            }
            
            .pin-container {
                flex-direction: column;
                gap: 30px;
                max-width: 100%;
                width: 100%;
                padding: 25px 20px;
            }
            
            .pin-left {
                text-align: center;
            }
            
            .keypad {
                width: 100%;
                max-width: 100%;
                gap: 10px;
            }
            
            .key-btn {
                width: 100%;
                height: 60px;
                font-size: 24px;
            }
            
            .key-action {
                grid-column: span 3;
                height: 50px;
                font-size: 18px;
                margin-top: 10px;
            }
            
            #confirmBtn {
                background: linear-gradient(180deg, #4A9FE8 0%, #2E86D4 100%);
                color: white;
                font-weight: 700;
                box-shadow: 0 4px 16px rgba(46, 134, 212, 0.5);
            }
            
            .celebration-title, .broke-title, .warning-title, .pororo-title {
                font-size: 36px;
            }
            
            .celebration-subtitle, .broke-subtitle, .warning-subtitle, .pororo-subtitle {
                font-size: 20px;
            }
        }
        
        /* ===== ì œì‘ì ë§í¬ ===== */
        .creator-link {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            font-size: 14px;
            color: #6b7280;
            text-decoration: none;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease;
            font-weight: 500;
            backdrop-filter: blur(10px);
        }
        
        .creator-link:hover {
            color: #2E86D4;
            background: rgba(255, 255, 255, 1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }
        
        .creator-link:active {
            transform: translateY(0);
        }
        
        @media (max-width: 768px) {
            .creator-link {
                font-size: 12px;
                padding: 6px 10px;
                bottom: 15px;
                right: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Screen 0: ì„¤ì • í™”ë©´ -->
    <div id="screen0" class="screen active">
        <div class="setup-container">
            <h1 class="setup-title">ğŸ‰ ìƒì¼ ATM ë§Œë“¤ê¸°</h1>
            <p class="setup-subtitle">ì •ë³´ë¥¼ ì…ë ¥í•˜ê³  íŠ¹ë³„í•œ ìƒì¼ ì„ ë¬¼ì„ ì¤€ë¹„í•˜ì„¸ìš”!</p>
            
            <form id="setupForm">
                <div class="form-group">
                    <label class="form-label">ğŸ¦ ì€í–‰ ì´ë¦„</label>
                    <input type="text" class="form-input" id="bankName" placeholder="ëª½ë¶€ë¶€" required="">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ì€í–‰ ì•„ì´ì½˜</label>
                    <div class="icon-selector" id="iconSelector">
                        <button type="button" class="icon-btn selected" data-icon="ğŸ¦">ğŸ¦</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ›ï¸">ğŸ›ï¸</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ’°">ğŸ’°</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ’">ğŸ’</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ">ğŸ</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ‚">ğŸ‚</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ‰ ìƒì¼ ì£¼ì¸ê³µ</label>
                    <input type="text" class="form-input" id="birthdayPerson" placeholder="í™ê¸¸ë™" required="">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ìƒì¼ (ì›”/ì¼)</label>
                    <div class="date-inputs">
                        <input type="number" class="form-input" id="birthMonth" placeholder="ì›” (1-12)" min="1" max="12" required="">
                        <input type="number" class="form-input" id="birthDay" placeholder="ì¼ (1-31)" min="1" max="31" required="">
                    </div>
                </div>
                
                <div class="form-group-inline">
                    <div>
                        <label class="form-label">ì´ë¦„ 1</label>
                        <input type="text" class="form-input" id="name1" placeholder="ê¹€ì² ìˆ˜" required="">
                    </div>
                    <div>
                        <label class="form-label">ì´ë¦„ 2</label>
                        <input type="text" class="form-input" id="name2" placeholder="ì´ì˜í¬" required="">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ì´ë¦„ 3</label>
                    <input type="text" class="form-input" id="name3" placeholder="ë°•ë¯¼ìˆ˜" required="">
                </div>
                
                <button type="submit" class="btn-primary submit-btn">ATM ì‹œì‘í•˜ê¸° ğŸ‰</button>
            </form>
        </div>
    </div>
    
    <!-- Screen 1: Welcome -->
    <div id="screen1" class="screen">
        <div class="welcome-content">
            <div class="bank-logo-container">
                <div class="bank-logo" id="welcomeBankIcon">ğŸ¦</div>
            </div>
            <h2 class="welcome-text">í™˜ì˜í•©ë‹ˆë‹¤!</h2>
            <p class="bank-name" id="welcomeBankName">ëª½ë¶€ë¶€ì€í–‰ì…ë‹ˆë‹¤</p>
            <h1 class="main-title">
                ìƒì¼ <span class="highlight">ìš©ëˆ</span> ì„œë¹„ìŠ¤ë¥¼<br>
                ì›í•˜ì‹œë©´ <span class="highlight">ë¡œê·¸ì¸</span> í•´ì£¼ì„¸ìš”
            </h1>
            <button class="btn-primary login-btn" id="loginBtn">ë¡œê·¸ì¸</button>
        </div>
    </div>
    
    <!-- Screen 2: Select Name -->
    <div id="screen2" class="screen">
        <h1 class="screen-title">ì„±í•¨ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”</h1>
        <div class="name-grid" id="nameGrid">
            <!-- ë™ì  ìƒì„± -->
        </div>
    </div>
    
    <!-- Screen 3: Verify Identity -->
    <div id="screen3" class="screen">
        <div class="verify-container">
            <h2 class="verify-title">ë³¸ì¸ì¸ì¦ì„ í•´ì£¼ì„¸ìš”</h2>
            <p class="verify-subtitle">ë³¸ì¸ì´ ë§ìŠµë‹ˆê¹Œ?</p>
            <div class="verify-content">
                <div class="user-photo">ğŸ‚</div>
                <div class="verify-buttons">
                    <button class="btn-primary verify-btn" id="verifyYes">ì˜ˆ</button>
                    <button class="btn-secondary verify-btn" id="verifyNo">ì•„ë‹ˆìš”</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Screen 4: PIN Entry -->
    <div id="screen4" class="screen">
        <div class="pin-container">
            <div class="pin-left">
                <h2 class="pin-title">ë¹„ë°€ë²ˆí˜¸ ì…ë ¥</h2>
                <p class="pin-subtitle">ìƒì¼ ë„¤ ìë¦¬ë¥¼<br>ì…ë ¥í•´ì£¼ì„¸ìš”</p>
                <div class="pin-dots">
                    <div class="pin-dot" id="dot1"></div>
                    <div class="pin-dot" id="dot2"></div>
                    <div class="pin-dot" id="dot3"></div>
                    <div class="pin-dot" id="dot4"></div>
                </div>
                <div class="error-msg" id="errorMsg">ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤</div>
            </div>
            <div class="keypad">
                <button class="btn-secondary key-btn" data-key="1">1</button>
                <button class="btn-secondary key-btn" data-key="2">2</button>
                <button class="btn-secondary key-btn" data-key="3">3</button>
                <button class="btn-secondary key-btn" data-key="4">4</button>
                <button class="btn-secondary key-btn" data-key="5">5</button>
                <button class="btn-secondary key-btn" data-key="6">6</button>
                <button class="btn-secondary key-btn" data-key="7">7</button>
                <button class="btn-secondary key-btn" data-key="8">8</button>
                <button class="btn-secondary key-btn" data-key="9">9</button>
                <button class="btn-secondary key-btn key-action" id="clearBtn">ì·¨ì†Œ</button>
                <button class="btn-secondary key-btn" data-key="0">0</button>
                <button class="btn-primary key-btn key-action" id="confirmBtn">í™•ì¸</button>
            </div>
        </div>
    </div>
    
    <!-- Screen 5: Birthday Celebration -->
    <div id="screen5" class="screen">
        <div class="celebration-top">
            <h1 class="celebration-title">
                ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰
                <span class="highlight" id="celebrationName">ìƒì¼ ì¶•í•˜í•©ë‹ˆë‹¤!</span>
            </h1>
		<p style="font-size: 1.5rem; color: #999999; margin-bottom: 15px; z-index: 1100;">ì¹´ë“œë¥¼ íˆ¬ì…í•´ì£¼ì„¸ìš”</p>
	<div class="atm-container">
            <div class="card-hider"></div>
                        <div class="top-hider"></div>
                        <div class="slot-group">
                <div class="black-bar bottom-bar"></div>
                <div class="black-bar top-bar">
                    <div class="slot-line"></div>
                </div>
            </div>

            <div class="card"></div>
        </div>
            <p class="celebration-subtitle">ì˜¤ëŠ˜ í•˜ë£¨ë„ í–‰ë³µí•˜ì„¸ìš”! ğŸ’</p>
        </div>
    </div>
    
    <!-- Screen 6: ì´ë¦„1 - ì”ì•¡ ë¶€ì¡± -->
    <div id="screen6" class="screen">
        <div class="error-container">
            <div class="error-icon">ğŸ§</div>
            <h1 class="error-title">ê±°ë˜ ë¶ˆê°€</h1>
            <p class="error-message">ê³ ê°ë‹˜ì˜ ìƒì¼ ì”ì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.</p>
            <div class="error-detail">
                <div class="error-detail-row">
                    <span class="error-detail-label">ì”ì•¡</span>
                    <span class="error-detail-value">0ì›</span>
                </div>
                <div class="error-detail-row">
                    <span class="error-detail-label" id="birthdayLabel">íƒ„ìƒì¼</span>
                    <span class="error-detail-value" id="birthdayDate">10ì›” 1ì¼</span>
                </div>
            </div>
            <button class="btn-primary retry-btn" id="retryBtn6">ë‹¤ì‹œ ì„ íƒí•˜ê¸°</button>
        </div>
    </div>
    
    <!-- Screen 7: ì´ë¦„2 - í˜‘ë°• -->
    <div id="screen7" class="screen">
        <div class="warning-container">
            <div class="warning-icon">ğŸ‘€</div>
            <h1 class="warning-title">ì–´ë¼...?</h1>
            <p class="warning-message">
                ìš©ëˆì€ ìƒì¼ì¸ ì‚¬ëŒë§Œ ë°›ì„ ìˆ˜ ìˆì–´ìš”!<br>
                ì§€ê¸ˆ ê±°ì§“ë§ í•˜ì‹œë©´...
            </p>
            <div class="warning-alert">
                <span id="warningBankName">ëª½ë¶€ë¶€</span>ì€í–‰ ë³´ì•ˆíŒ€ ì¶œë™ ğŸš¨
            </div>
            <p class="warning-small">(ë†ë‹´ì´ì—ìš” ã…ã… ë‹¤ì‹œ ëˆŒëŸ¬ë³´ì„¸ìš”~)</p>
            <button class="btn-primary honest-btn" id="retryBtn7">ì†”ì§í•˜ê²Œ ë‹¤ì‹œ ì„ íƒ</button>
        </div>
    </div>
    
    <!-- Screen 8: ì´ë¦„3 - ë•¡! -->
    <div id="screen8" class="screen">
        <div class="wrong-container">
            <div class="wrong-icon">ğŸ‚</div>
            <h1 class="wrong-title">ë•¡! ì˜¤ëŠ˜ì€ ì•„ë‹ˆì—ìš”~</h1>
            <p class="wrong-message">
                ì£„ì†¡í•©ë‹ˆë‹¤ë§Œ,<br>
                ì˜¤ëŠ˜ ìš©ëˆ ì„œë¹„ìŠ¤ëŠ”<br>
                âœ¨ íŠ¹ë³„í•œ ë¶„ âœ¨ ì „ìš©ì…ë‹ˆë‹¤!
            </p>
            <div class="wrong-hint">
                (íŒíŠ¸: <span id="hintBirthday1">10ì›” 23ì¼</span>ìƒ...)
            </div>
            <button class="btn-primary wrong-btn" id="retryBtn8">ëˆ„êµ°ì§€ ë‹¤ì‹œ ìƒê°í•´ë³´ê¸°</button>
        </div>
    </div>
    
    <script>
        // ==========================================
        // ì„¤ì • ë° ë°ì´í„° ê´€ë¦¬
        // ==========================================
        
        let config = {
            bankName: 'ëª½ë¶€ë¶€',
            bankIcon: 'ğŸ¦',
            birthdayPerson: 'ìƒì¼ì',
            birthMonth: 10,
            birthDay: 23,
            names: ['ì´ë¦„1', 'ì´ë¦„2', 'ì´ë¦„3']
        };
        
        // URLì—ì„œ ì„¤ì • ë¡œë“œ
        function loadConfigFromURL() {
            const hash = window.location.hash.substring(1);
            if (hash) {
                try {
                    const decoded = decodeURIComponent(atob(hash));
                    config = JSON.parse(decoded);
                    return true;
                } catch(e) {
                    console.error('Invalid URL config');
                    return false;
                }
            }
            return false;
        }
        
        // ==========================================
        // í™”ë©´ ì´ˆê¸°í™”
        // ==========================================
        
        function initializeScreens() {
            // Welcome í™”ë©´
            document.getElementById('welcomeBankIcon').textContent = config.bankIcon;
            document.getElementById('welcomeBankName').textContent = config.bankName + 'ì€í–‰ì…ë‹ˆë‹¤';
            
            // Name Grid
            const nameGrid = document.getElementById('nameGrid');
            nameGrid.innerHTML = '';
            
            // 4ê°œ ì´ë¦„ ë²„íŠ¼ ìƒì„± (ìƒì¼ì + 3ëª…)
            const allNames = [config.birthdayPerson, ...config.names];
            allNames.forEach((name, index) => {
                const btn = document.createElement('button');
                btn.className = 'btn-primary name-btn';
                btn.textContent = name;
                btn.dataset.name = name;
                btn.dataset.index = index;
                nameGrid.appendChild(btn);
            });
            
            // ê²½ê³  ë©”ì‹œì§€ ì€í–‰ëª…
            document.getElementById('warningBankName').textContent = config.bankName;
            
            // íŒíŠ¸ ìƒì¼
            const birthdayHint = `${config.birthMonth}ì›” ${config.birthDay}ì¼`;
            document.getElementById('hintBirthday1').textContent = birthdayHint;
            
            // ì¶•í•˜ ë©”ì‹œì§€
            document.getElementById('celebrationName').textContent = config.birthdayPerson + 'ë‹˜ ìƒì¼ ì¶•í•˜í•©ë‹ˆë‹¤!';
        }
        
        // ëœë¤ ìƒì¼ ìƒì„± (í˜„ì¬ ìƒì¼ìì™€ ë‹¤ë¥¸ ë‚ ì§œ)
        function generateRandomBirthday() {
            let month, day;
            do {
                month = Math.floor(Math.random() * 12) + 1;
                day = Math.floor(Math.random() * 28) + 1; // ì•ˆì „í•˜ê²Œ 28ì¼ê¹Œì§€ë§Œ
            } while (month === config.birthMonth && day === config.birthDay);
            
            return `${month}ì›” ${day}ì¼`;
        }
        
        // ==========================================
        // ì˜¤ë””ì˜¤ ì¬ìƒ
        // ==========================================
// ==========================================
// MP3 íŒŒì¼ ì¬ìƒ ë° ì•„ì´íŒ¨ë“œ í˜¸í™˜ì„± ì„¤ì •
// ==========================================

let currentAudio = null;

// ì˜¤ë””ì˜¤ ì´ˆê¸°í™” í•¨ìˆ˜ (ì‚¬ìš©ìê°€ í™”ë©´ì„ ì²˜ìŒ í„°ì¹˜í•  ë•Œ ê¶Œí•œì„ ì–»ê¸° ìœ„í•¨)
function initAudio() {
    if (!currentAudio) {
        currentAudio = new Audio('song.mp3'); // íŒŒì¼ëª… í™•ì¸: song.mp3
        currentAudio.load();

// ì•„ì´íŒ¨ë“œì—ê²Œ "ê³§ ì†Œë¦¬ë¥¼ ë‚¼ ê±°ì•¼"ë¼ê³  ë¯¸ë¦¬ ì•Œë ¤ì£¼ëŠ” ì‘ì—…ì…ë‹ˆë‹¤.
        currentAudio.play().then(() => {
            currentAudio.pause(); // ì¼ë‹¨ ë°”ë¡œ ì¼ì‹œì •ì§€ (ê¶Œí•œë§Œ íšë“)
            currentAudio.currentTime = 0;
        }).catch(e => {});
    }
}

function playBirthdayMelody() {
    if (!currentAudio) {
        currentAudio = new Audio('song.mp3');
    }
    
    currentAudio.currentTime = 0; // ì²˜ìŒë¶€í„° ì¬ìƒ
    currentAudio.volume = 0.8;    // ë³¼ë¥¨ ì„¤ì • (0.0 ~ 1.0)
    
    // ì¬ìƒ ì‹œë„
    let playPromise = currentAudio.play();
    
    if (playPromise !== undefined) {
        playPromise.catch(error => {
            console.log("ìë™ ì¬ìƒ ì°¨ë‹¨ë¨: í„°ì¹˜ í›„ ì¬ìƒì„ ì‹œë„í•©ë‹ˆë‹¤.");
            // ì‹¤íŒ¨ ì‹œ, í™”ë©´ ì•„ë¬´ ê³³ì´ë‚˜ ëˆ„ë¥´ë©´ ì¬ìƒë˜ë„ë¡ ì„¤ì •
            document.addEventListener('click', () => {
                currentAudio.play();
            }, { once: true });
        });
    }
}

function stopAudio() {
    if (currentAudio) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
    }
}

// ê¸°ì¡´ goToScreen í•¨ìˆ˜ ì•ˆì— ì´ ë‚´ìš©ì„ ê¼­ í™•ì¸í•˜ì„¸ìš”!
// (Screen 5ê°€ ë  ë•Œ ë…¸ë˜ë¥¼ í‹€ì–´ì£¼ëŠ” ë¶€ë¶„)
function goToScreen(screenNum) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.getElementById('screen' + screenNum).classList.add('active');
    
// ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ ëˆŒëŸ¬ í™”ë©´ì´ ë°”ë€” ë•Œë§ˆë‹¤ ì†Œë¦¬ ì¬ìƒ ê¶Œí•œì„ ì²´í¬í•©ë‹ˆë‹¤.
    initAudio();

    if (screenNum === 5) {
        playBirthdayMelody(); // 5ë²ˆ í™”ë©´(ì¶•í•˜)ì´ ë˜ë©´ ë…¸ë˜ ì‹œì‘
    } else {
        stopAudio(); // ë‹¤ë¥¸ í™”ë©´ìœ¼ë¡œ ê°€ë©´ ë…¸ë˜ ì •ì§€
    }
}        
        // ==========================================
        // í™”ë©´ ì „í™˜ ë° ê²Œì„ ë¡œì§
        // ==========================================
        
        let selectedName = '';
        let currentPin = '';
        let correctPin = '';
        
        function goToScreen(num) {
            stopAudio();
            
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('screen' + num).classList.add('active');
            
            if (num === 5) {
                startCelebration('screen5');
                playBirthdayMelody();
            }
        }
        
        function selectName(name, index) {
            selectedName = name;
            
            if (index === 0) {
                // ìƒì¼ì ì„ íƒ
                goToScreen(3);
            } else if (index === 1) {
                // ì´ë¦„1 - ì”ì•¡ ë¶€ì¡±
                document.getElementById('birthdayLabel').textContent = 'ë‹¤ìŒ ì¶©ì „ì¼';
				document.getElementById('birthdayDate').textContent = name + ' íƒ„ìƒì¼';
                goToScreen(6);
            } else if (index === 2) {
                // ì´ë¦„2 - í˜‘ë°•
                goToScreen(7);
            } else if (index === 3) {
                // ì´ë¦„3 - ë•¡!
                goToScreen(8);
            }
        }
        
        function enterPin(digit) {
            if (currentPin.length < 4) {
                currentPin += digit;
                updatePinDisplay();
            }
        }
        
        function clearPin() {
            currentPin = '';
            updatePinDisplay();
            document.getElementById('errorMsg').classList.remove('show');
        }
        
        function updatePinDisplay() {
            for (let i = 1; i <= 4; i++) {
                const dot = document.getElementById('dot' + i);
                if (i <= currentPin.length) {
                    dot.classList.add('filled');
                } else {
                    dot.classList.remove('filled');
                }
            }
        }
        
        function confirmPin() {
            if (currentPin === correctPin) {
                goToScreen(5);
            } else {
                document.getElementById('errorMsg').classList.add('show');
                currentPin = '';
                updatePinDisplay();
                setTimeout(() => {
                    document.getElementById('errorMsg').classList.remove('show');
                }, 2000);
            }
        }
        
        // ==========================================
        // ì¶•í•˜ íš¨ê³¼
        // ==========================================
        
        function startCelebration(screenId) {
            const screen = document.getElementById(screenId);
            const colors = ['#ff6b6b', '#feca57', '#48dbfb', '#ff9ff3', '#1dd1a1', '#ffd700', '#ff4757', '#5f27cd'];
            
            for (let i = 0; i < 80; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animation = `confetti-fall ${4 + Math.random() * 3}s linear infinite`;
                confetti.style.animationDelay = Math.random() * 5 + 's';
                screen.appendChild(confetti);
            }
            
            const starEmojis = ['â­', 'âœ¨', 'ğŸŒŸ', 'ğŸ’«', 'ğŸ‰', 'ğŸŠ', 'ğŸˆ', 'ğŸ', 'ğŸ’'];
            
            for (let i = 0; i < 15; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.textContent = starEmojis[Math.floor(Math.random() * starEmojis.length)];
                star.style.left = Math.random() * 85 + 5 + '%';
                star.style.top = Math.random() * 85 + 5 + '%';
                star.style.animationDelay = Math.random() * 2 + 's';
                screen.appendChild(star);
            }
            
            const fireworkInterval = setInterval(() => createFirework(screenId), 1200);
            screen.dataset.fireworkInterval = fireworkInterval;
        }
        
        function createFirework(screenId) {
            const screen = document.getElementById(screenId);
            if (!screen.classList.contains('active')) return;
            
            const colors = ['#ff6b6b', '#feca57', '#48dbfb', '#ff9ff3', '#ffd700', '#5f27cd'];
            const x = Math.random() * 70 + 15;
            const y = Math.random() * 50 + 15;
            
            for (let i = 0; i < 10; i++) {
                const particle = document.createElement('div');
                particle.className = 'firework';
                particle.style.left = x + '%';
                particle.style.top = y + '%';
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                particle.style.boxShadow = `0 0 6px ${colors[Math.floor(Math.random() * colors.length)]}`;
                
                const angle = (Math.PI * 2 * i) / 10;
                const vx = Math.cos(angle);
                const vy = Math.sin(angle);
                particle.style.setProperty('--x', vx);
                particle.style.setProperty('--y', vy);
                
                particle.style.animation = 'explode 1.2s ease-out forwards';
                screen.appendChild(particle);
                setTimeout(() => particle.remove(), 1200);
            }
        }
        
        // ==========================================
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        // ==========================================
        
        function addTapEvent(element, callback) {
            if (!element) return;
            
            element.addEventListener('touchend', function(e) {
                e.preventDefault();
                callback(e);
            }, { passive: false });
            
            element.addEventListener('click', function(e) {
                callback(e);
            });
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // URLì—ì„œ ì„¤ì • ë¡œë“œ ì‹œë„
            if (loadConfigFromURL()) {
                initializeScreens();
                goToScreen(1);
            } else {
                goToScreen(0);
            }
            
            // ì„¤ì • í¼ ì œì¶œ
            document.getElementById('setupForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                config.bankName = document.getElementById('bankName').value.trim();
                config.birthdayPerson = document.getElementById('birthdayPerson').value.trim();
                config.birthMonth = parseInt(document.getElementById('birthMonth').value);
                config.birthDay = parseInt(document.getElementById('birthDay').value);
                config.names = [
                    document.getElementById('name1').value.trim(),
                    document.getElementById('name2').value.trim(),
                    document.getElementById('name3').value.trim()
                ];
                
                // URL ì—…ë°ì´íŠ¸ (ê³µìœ ìš©)
                const encoded = btoa(encodeURIComponent(JSON.stringify(config)));
                window.location.hash = encoded;
                
                // í™”ë©´ ì´ˆê¸°í™” ë° ì‹œì‘
                initializeScreens();
                goToScreen(1);
            });
            
            // ì•„ì´ì½˜ ì„ íƒ
            document.querySelectorAll('.icon-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.icon-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    config.bankIcon = this.dataset.icon;
                });
            });
            
            // ë¡œê·¸ì¸ ë²„íŠ¼
            addTapEvent(document.getElementById('loginBtn'), function() {
                // ë¹„ë°€ë²ˆí˜¸ ìƒì„±
                correctPin = String(config.birthMonth).padStart(2, '0') + String(config.birthDay).padStart(2, '0');
                goToScreen(2);
            });
            
            // ì´ë¦„ ë²„íŠ¼ë“¤ (ë™ì  ìƒì„±ë˜ë¯€ë¡œ delegation ì‚¬ìš©)
            document.getElementById('nameGrid').addEventListener('click', function(e) {
                if (e.target.classList.contains('name-btn')) {
                    const name = e.target.dataset.name;
                    const index = parseInt(e.target.dataset.index);
                    selectName(name, index);
                }
            });
            
            // ë³¸ì¸ì¸ì¦
            addTapEvent(document.getElementById('verifyYes'), function() {
                goToScreen(4);
            });
            
            addTapEvent(document.getElementById('verifyNo'), function() {
                goToScreen(2);
            });
            
            // í‚¤íŒ¨ë“œ
            document.querySelectorAll('.key-btn[data-key]').forEach(function(btn) {
                addTapEvent(btn, function() {
                    enterPin(btn.dataset.key);
                });
            });
            
            addTapEvent(document.getElementById('clearBtn'), function() {
                clearPin();
            });
            
            addTapEvent(document.getElementById('confirmBtn'), function() {
                confirmPin();
            });
            
            // ì¬ì‹œë„ ë²„íŠ¼ë“¤
            addTapEvent(document.getElementById('retryBtn6'), function() {
                goToScreen(2);
            });
            
            addTapEvent(document.getElementById('retryBtn7'), function() {
                goToScreen(2);
            });
            
            addTapEvent(document.getElementById('retryBtn8'), function() {
                goToScreen(2);
            });
        });
    </script>
    
    <!-- ì œì‘ì ë§í¬ -->
    <a href="https://www.instagram.com/honey_tree_recipe" target="_blank" rel="noopener noreferrer" class="creator-link">
        ì œì‘ì : ê¿€ë¬´ì˜ë ˆì‹œí”¼
    </a>


</body><whale-quicksearch translate="no" style="visibility: visible;"></whale-quicksearch></html>